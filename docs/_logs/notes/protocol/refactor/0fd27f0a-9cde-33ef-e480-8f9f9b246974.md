---
id: 0fd27f0a-9cde-33ef-e480-8f9f9b246974
title: 重构项目规范与验证构建流程
category: protocol/refactor
tags:
    - lint
    - build
    - generate
    - protocol
created_at: 2025-12-23T16:41:11.0421191+08:00
updated_at: 2025-12-23T16:41:11.0421191+08:00
---

## File: docs/_logs/temp.md
# 重构项目规范与验证构建流程
Date: 2025-12-23 16:45

## Actions
1. `pnpm add @nuxtjs/seo zod @tiptap/vue-3 @tiptap/starter-kit @heroicons/vue -D` (前期已安装)
2. **开发逻辑与步骤**:
    - 更新 `docs/prompt.md`，将 `pnpm lint` 纳入强制构建检查流程，并明确 `pnpm build` 和 `pnpm generate` 的必要性。
    - 修复项目中的 ESLint 代码规范问题，包括：
        - `ReiEditor.vue`: 修复 HTML 元素自闭合问题。
        - `ReiHeader.vue`: 调整属性顺序 (class 提前)。
        - `default.vue`: 修复 HTML 元素自闭合问题。
        - `form.ts`: 移除 `any` 类型，改用 `Record<string, unknown>` 增强类型安全。
    - 运行全量验证命令 `pnpm lint; pnpm build; pnpm generate` 确保项目在 SSG 模式下构建正常。
3. **问题与解决**:
    - **问题**: `pnpm lint` 发现多处警告和错误，导致构建流程中断。
    - **解决**: 根据 ESLint 提示逐一修复 Vue 组件的模板规范（自闭合、属性顺序）和 TypeScript 的类型安全（替换 `any`）。
    - **问题**: PowerShell 环境下 `&&` 连接符导致解析错误。
    - **解决**: 使用 `;` 或分别执行命令以兼容 Windows 环境。
