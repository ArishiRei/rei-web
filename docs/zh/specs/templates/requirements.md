# 需求文档

## 引言

[提供正在指定的的功能或系统的清晰摘要。解释目的、范围和高层目标。保持本节简洁，但足以让利益相关者理解该功能的价值和上下文。]

## 术语表

[定义本文档中使用的所有系统名称、技术术语和领域特定词汇。需求中出现的每个术语都必须在此定义。]

- **System_Name**: [正在开发的主要系统的定义]
- **Technical_Term**: [任何技术概念的定义]
- **Domain_Concept**: [业务或领域特定术语的定义]

## 需求

### 需求 1

**用户故事:** 作为一个 [角色]，我想要 [功能]，以便 [收益]

#### 验收标准 (Acceptance Criteria)

[每个验收标准必须严格遵循六种 EARS 模式之一。使用术语表中定义的系统名称。]

1. [System_Name] 应 [响应] (THE [System_Name] SHALL [response])
2. 当 [触发条件] 时，[System_Name] 应 [响应] (WHEN [trigger], THE [System_Name] SHALL [response])
3. 在 [状态条件] 期间，[System_Name] 应 [响应] (WHILE [condition], THE [System_Name] SHALL [response])
4. 如果 [条件]，则 [System_Name] 应 [响应] (IF [condition], THEN THE [System_Name] SHALL [response])
5. 在 [选项] 的情况下，[System_Name] 应 [响应] (WHERE [option], THE [System_Name] SHALL [response])

### 需求 2

**用户故事:** 作为一个 [角色]，我想要 [功能]，以便 [收益]

#### 验收标准

1. [符合 EARS 规范的需求]
2. [符合 EARS 规范的需求]
3. [符合 EARS 规范的需求]

[根据需要继续添加其他需求...]

---

## 模板指南

### EARS 模式参考

每个验收标准请使用以下六种模式中的一种：

1. **普遍性 (Ubiquitous)**: [系统] 应 [响应]
2. **事件驱动 (Event-driven)**: 当 [触发条件] 时，[系统] 应 [响应]
3. **状态驱动 (State-driven)**: 在 [状态条件] 期间，[系统] 应 [响应]
4. **非预期事件 (Unwanted event)**: 如果 [条件]，则 [系统] 应 [响应]
5. **可选功能 (Optional feature)**: 在 [选项] 的情况下，[系统] 应 [响应]
6. **复杂模式 (Complex)**: [WHERE] [WHILE] [WHEN/IF] [系统] 应 [响应] (按此顺序)

### INCOSE 质量规则

每项需求必须符合：
- **主动语态**: 清楚地说明谁做什么
- **无模糊术语**: 避免使用“快速”、“足够”、“合理”
- **无逃避条款**: 避免使用“在可能的情况下”、“如果可行”
- **无否定陈述**: 使用肯定陈述而不是“不应...”
- **一项需求一个想法**: 每项需求只解决一个关注点
- **明确的条件**: 所有条件和标准必须是可衡量的
- **一致的术语**: 使用与术语表中完全一致的术语
- **不使用代词**: 避免使用“它”、“他们”——使用具体的系统名称
- **无绝对化**: 除非确实是绝对的，否则避免使用“绝不”、“始终”、“100%”
- **不含解决方案**: 关注系统应该做什么，而不是如何做

### 常见正确性模式

编写验收标准时考虑以下模式：

- **不变性 (Invariants)**: 保持不变的属性（例如，“映射后的集合大小”）
- **往返属性 (Round Trip Properties)**: 具有逆操作的操作（例如，“decode(encode(x)) == x”）
- **幂等性 (Idempotence)**: 执行两次 = 执行一次的操作
- **变形属性 (Metamorphic Properties)**: 组件之间的关系
- **错误条件**: 对无效输入的正确处理

### 解析器/序列化器需求

如果你的功能涉及解析或序列化：
- **始终包含一个漂亮打印 (pretty printer) 需求**，用于往返测试
- **始终包含往返验收标准**（解析后再打印应等于原始输入）
- **引用被解析的特定语法**
- **包含对格式错误输入的错误处理**

### 需求可追溯性

每项需求都将在以下文档中被引用：
- 设计文档中的正确性属性
- 实现任务
- 测试用例和验证程序

确保需求：
- **编号一致** (1.1, 1.2, 2.1 等)
- **可追溯**到业务需求
- **可测试**，通过验收标准进行验证
- **完整**，涵盖所有必要的功能
